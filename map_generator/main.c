#include <unistd.h>
#include <stdio.h>
#include <stdlib.h>
#include <fcntl.h>
#include <time.h>
#include <string.h>

#define MAP "111111111111111111111111\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000111110000101010001\n100000100010000000000001\n100000100010000100010001\n100000100010000000000001\n100000110110000101010001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n11111111100000000N000001\n110100001000000000000001\n110000101000000000000001\n110100001000000000000001\n110111111000000000000001\n110000000000000000000001\n111111111000000000000001\n111111111111111111111111\n"
#define INVALID_MAP "111111111111111111011111\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000111110000101010001\n100000100010000000000001\n100000100010000100010001\n100000100010000000000001\n100000110110000101010001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n100000000000000000000001\n11111111100000000N000001\n110100001000000000000001\n110000101000000000000001\n110100001000000000000001\n110111111000000000000001\n110000000000000000000001\n111111111000000000000001\n111111111111111111111111\n"
#define MAP2 "        1111111111111111111111111\n        1000000000000000000000001\n        1100000000000000000000001\n        1000000000000000000000001\n111111111000000000000000000000001\n1000000000000000E0000000000011111\n10000000000000000000000000001\n10000000000000000000000000001\n10000000000000000000000000001\n10000000000000000000000000001\n10000000000000000001010000001\n11000001110101011111011110101\n11110111 1110111 101111010001\n11111111 1111111 111111111111\n"


int main()
{
    time_t t;
    int fd = open("maptest.cub", O_WRONLY | O_TRUNC | O_CREAT,
					S_IRWXO | S_IRWXU | S_IRWXG);
    int counter = 0;
	int num;
    srand((unsigned) time(&t));
    while (counter < 8)
    {
		num = rand();
		while (num % 2)
		{
			write(fd, "\n", 1);
			num = rand();
		}
    	num = rand();
    	if (counter == 0)
		{
			if (num % 2)
        		write(fd, "NO ./sprites/eagle.xpm\n", 23);
			else
				write(fd, "NO ./sprites/eagle.xpn\n", 23);
		}
   		if (counter == 1)
		{
			if (num % 2)
   				write(fd, "SO ./sprites/wood.xpm\n", 22);
			else
				write(fd, "SO ./sprites/wood\n", 18);
		}
		if (counter == 2)
		{
			if (num % 2)
    			write(fd, "WE ./sprites/mossy.xpm\n", 23);
			else
    			write(fd, "WE ./spright/mossy.xpm\n", 23);
		}
	    if (counter == 3)
		{
			if (num % 2)
 	    		write(fd, "EA ./sprites/redbrick.xpm\n", 26);
			else
 	    		write(fd, "A ./sprites/redbrick.xpm\n", 25);
		}
  		if (counter == 4)
		{
			if (num % 2)
  				write(fd, "F 110,153,15\n", 13);
			else
  				write(fd, "F 110,1a53,15\n", 14);
		}
  		if (counter == 5)
		{
			if (num % 2)
    			write(fd, "C 255,255,255\n", 14);
			else
    			write(fd, "C 255,,255\n", 11);
		}
		if (counter == 6)
		{
			if (num % 2)
				write(fd, MAP2, strlen(MAP2));
			else
				write(fd, INVALID_MAP, strlen(INVALID_MAP));
		}
		counter++;
    }
	return 0;
}